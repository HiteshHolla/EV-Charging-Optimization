bp1=[-1.4515 3.7202 3.2495 -0.4211 0.5138 -0.4088 2.5714 -1.2155 -2.4577 0.2387 3.9377 -3.5891 2.9884 4.7521 1.5966 0.8434 2.7935 -1.2133 -0.8841 0.7054 -2.4292 -0.4390 0.0941 -2.6951];

bp2=[1.2406 0.3841 -0.6282 1.0360 1.9452 -0.5125 2.1012 0.3542 0.3232 3.7982 -1.8558 3.4615 1.9710 -0.3405 0.6249 -1.7308 1.3714 -0.7060 0.9401 2.4691 -3.3259 -1.2803 -0.4955 -0.3452];

bp3=[5.4999 -0.9956 -0.5663 4.6212 3.7876 1.5395 2.5201 -1.6724 -0.9824 5.1236 -1.5434 0.2796 2.2708 -1.3253 0.9628 1.1296 -1.2004 -0.8721 1.3671 -1.7229 -1.6127 2.4786 -0.7021 -3.0431];

bp4=[1.0045 -2.1109 -0.2811 3.7085 -1.0655 4.0989 4.4326 3.5243 1.0298 1.0964 1.0919 1.7347 -1.6285 -0.8672 0.9261 -0.5108 -0.1116 2.6343 -0.8541 -0.1812 0.2413 -3.3556 -0.1479 -3.6089];

bp5=[3.1533 3.4558 -0.3017 3.8477 -2.8085 0.9562 0.6927 2.0246 -1.5794 -2.0568 5.4987 -0.4386 4.3104 -0.8739 -0.8431 -2.5644 -0.0664 0.8122 4.2481 -2.7544 -2.0990 -1.1769 0.5382 -1.1749];

bp6=[0.6328 -0.8028 -0.9890 2.9224 0.3078 -1.7896 -0.2408 -0.0298 4.7362 3.9217 3.3871 2.0878 1.0452 1.7399 0.9795 0.5742 -0.1007 -3.3345 -1.0192 2.0025 -2.1207 -0.1374 -2.0999 -0.8726];

bp7=[2.8588 2.0469 2.2740 -2.2996 -2.3546 1.4680 -0.6776 -0.0716 0.4387 0.5001 4.7146 2.1299 1.6760 0.3134 -0.3575 1.4184 -0.9162 0.8483 -0.7857 2.0028 -1.7315 -0.2921 -1.7396 -0.6639];

bp8=[1.1482 3.0562 -0.2674 -1.7453 -2.9963 4.3301 2.6266 -0.0175 -0.4760 3.8908 3.4201 -0.9552 0.1774 -0.4499 1.7849 1.1326 1.3681 0.3152 -0.8711 -0.9779 -1.5391 0.1463 -0.7164 -1.5843];
    
bp9=[-0.9967 3.4438 3.0149 -1.4147 -2.7641 3.0515 2.0220 -1.9655 0.9536 3.4764 2.6462 0.5366 0.0604 -0.7413 0.7789 -0.3358 1.1364 3.1408 -2.3165 -2.0524 -0.3715 1.6065 -1.7821 -0.3275];

bp10=[3.0267 2.4457 1.4335 1.8834 -1.4475 -1.2747 0.0118 3.5836 -2.3478 -0.2132 2.4754 2.0994 -0.9075 3.4994 0.3223 2.8877 1.2875 -0.7659 -0.2657 -0.9876 -1.3448 -1.3549 -2.6408 -0.6059];

bp=(bp1+bp2+bp3+bp4+bp5+bp6+bp7+bp8+bp9+bp10)/20

bpFinal=2*[0.8058 0.7322 0.3469 0.6069 -0.3441 0.5729 0.8030 0.2257 -0.0181 0 0 0 0 0.9888 1.1886 0.3673 0.5982 0.2853 0.3388 0.1422 0.2781 0.0430 -0.0221 -0.0748 -0.8167 -0.1902 -0.4846 -0.7461];

loadDemand=[3.811 4.132 3.962 3.981 3.868 3.83 3.811 3.736 3.66 3.585 3.509 3.434 3.321 3.264 3.189 3.151 3.208 3.226 3.189 3.208 3.302 3.491 3.736 3.868 3.811 3.792 3.906 4.255];

OP_demand=bpFinal+loadDemand;

x = 0:0.5:13.5;
y1 = [8.811 9.132 8.962 8.981 8.868 8.83 8.811 3.736 3.66 3.585 3.509 3.434 3.377 3.264 3.189 3.151 3.208 3.226 3.189 3.208 3.302 3.491 3.736 3.868 3.811 3.792 3.906 4.255];
plot(x,y1/2)
title('Energy Grid demand comparison curve')

hold on

plot(x,OP_demand/2)

xlabel('Time');
ylabel('Grid Demand in Kwhr');
legend('Without Optimization', 'With Optimization');
grid on;

hold off